# ========================================
# CONFIG SERVER CONFIGURATION
# ========================================
spring.application.name=config-server
server.port=8888

# ========================================
# CONFIG REPOSITORY SETTINGS
# ========================================
# Using native filesystem for configuration storage
spring.profiles.active=native

# IMPORTANT: Use forward slashes even on Windows, or use file:/// with the correct path
spring.cloud.config.server.native.search-locations=classpath:/config

# Enable configuration file patterns
spring.cloud.config.server.default-label=main

# ========================================
# SECURITY CONFIGURATION
# ========================================
spring.security.user.name=config-admin
spring.security.user.password=config-secret-2024

# ========================================
# ACTUATOR ENDPOINTS
# ========================================
management.endpoints.web.exposure.include=health,info,refresh
management.endpoint.health.show-details=always

# ========================================
# LOGGING CONFIGURATION
# ========================================
logging.level.org.springframework.cloud.config=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ========================================
# SERVER CONFIGURATION
# ========================================
server.connection-timeout=5000
server.tomcat.connection-timeout=5000

# ========================================
# KEYCLOAK CONFIGURATION
# ========================================
# OAuth2 Resource Server (JWT validation)
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/realms/freelance-nexus
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://localhost:8080/realms/freelance-nexus/protocol/openid-connect/certs

# Keycloak Admin Client Configuration
keycloak.auth-server-url=http://localhost:8080
keycloak.realm=freelance-nexus
keycloak.resource=user-service-client
keycloak.credentials.secret=user-service-secret

# Keycloak Admin Credentials (for user management)
keycloak.admin.username=admin
keycloak.admin.password=admin